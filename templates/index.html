{% extends 'base.html' %}

{% block title %}DAS Trader Analyzer{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-lg-6 mb-4">
            <div class="card shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Cargar archivos CSV</h6>
                </div>
                <div class="card-body">
                    <p>Carga los archivos CSV exportados desde DAS Trader para comenzar el análisis.</p>
                    
                    <form action="{{ url_for('upload.upload_files') }}" method="post" enctype="multipart/form-data" class="mb-4">
                        <div class="mb-3">
                            <label for="trades" class="form-label">Archivo Trades.csv</label>
                            <input class="form-control" type="file" id="trades" name="trades" accept=".csv" required>
                        </div>
                        
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="merge" name="merge">
                            <label class="form-check-label" for="merge">Fusionar con datos existentes</label>
                            <div class="form-text">Marque esta casilla si desea añadir estos datos a los ya cargados anteriormente.</div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Cargar y Procesar</button>
                    </form>
                    
                    {% if has_existing_files %}
                    <form action="{{ url_for('upload.upload_files') }}" method="post">
                        <input type="hidden" name="use_default" value="1">
                        <button type="submit" class="btn btn-outline-secondary">Usar archivos existentes</button>
                    </form>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <div class="col-lg-6 mb-4">
            <div class="card shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Acerca de DAS Trader Analyzer</h6>
                </div>
                <div class="card-body">
                    <p>DAS Trader Analyzer es una herramienta para el análisis de ejecuciones de trading exportadas desde la plataforma DAS Trader. Esta aplicación proporciona:</p>
                    
                    <ul>
                        <li>Dashboard con métricas clave</li>
                        <li>Análisis por símbolo</li>
                        <li>Análisis temporal</li>
                        <li>Curva de equidad</li>
                    </ul>
                    
                    <p>Para comenzar, simplemente carga tu archivo Trades.csv desde el formulario a la izquierda.</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}